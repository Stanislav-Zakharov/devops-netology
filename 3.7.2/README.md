### Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"
1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. 
   Какие команды есть для этого в Linux и в Windows?
```bash
#linux
$ ip -br link
lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP>
bond0            DOWN           e6:8a:5e:d2:ca:a8 <BROADCAST,MULTICAST,MASTER>
dummy0           DOWN           6e:48:1d:39:7b:63 <BROADCAST,NOARP>
tunl0@NONE       DOWN           0.0.0.0 <NOARP>
sit0@NONE        DOWN           0.0.0.0 <NOARP>
eth0             UP             00:15:5d:a9:93:9f <BROADCAST,MULTICAST,UP,LOWER_UP>

#windows powershell
PS C:\Users\Stanislav> Get-NetAdapter

Name                      InterfaceDescription                    ifIndex Status       MacAddress             LinkSpeed
----                      --------------------                    ------- ------       ----------             ---------
vEthernet (WSL)           Hyper-V Virtual Ethernet Adapter             26 Up           00-15-5D-C8-78-A9        10 Gbps
Беспроводная сеть         Intel(R) Dual Band Wireless-AC 8265          23 Up           DC-FB-48-5F-58-93     866.7 Mbps
Ethernet 5                TAP-Surfshark Windows Adapter V9             21 Disconnected 00-FF-B2-5A-3E-40         1 Gbps
Ethernet                  Kaspersky Security Data Escort Adapter       14 Disconnected 00-FF-52-75-4D-48       100 Mbps
VirtualBox Host-Only N... VirtualBox Host-Only Ethernet Adapter        13 Up           0A-00-27-00-00-0D         1 Gbps
Ethernet 2                Cisco AnyConnect Secure Mobility Cli...       7 Up           00-05-9A-3C-7A-00     862.4 Mbps
Сетевое подключение Bl... Bluetooth Device (Personal Area Netw...       4 Disconnected DC-FB-48-5F-58-97         3 Mbps
```
2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
>Протокол обнаружения уровня связи (LLDP).   
>Устройства с возможностью LLDP передают сообщения о типе, длине и значении (TLV) соседним устройствам.
>Для работы с протоколом `LLDP` в Linux используется пакет `lldpd`
3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
```bash
# Для разделения коммутатора на виртуальные сети используется технология VLAN 802.1Q
# Для управления в Debian можно использовать пакет "vlan", конфигурирование происходит с
# помощью команды vconfig, либо с помощью config-файла /etc/network/interfaces

$ cat /etc/network/interfaces

#interface loopback
auto lo
iface lo inet loopback
#Interface eth0 - untagged 
auto eth0
iface eth0 inet static
      address 192.168.10.10
      netmask 255.255.255.0
      gateway 192.168.10.1
      dns-nameservers 8.8.8.8
#Interface eth0.200 - tagged vlan 200
auto eth0.200
iface eth0.200 inet static
      address 192.168.8.10
      netmask 255.255.255.0
```
4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
> Bonding (Объединение сетевых интерфейсов) - механизм, позволяющий агрегировать несколько
> сетевых интерфейсов в один виртуальный для обеспечения: отказоустойчивости и/или балансировки
> нагрузки сетевого трафика
```bash
$ cat /etc/network/interfaces
# The primary network interface
auto bond0
iface bond0 inet static
    address 192.168.1.150
    netmask 255.255.255.0    
    gateway 192.168.1.1
    dns-nameservers 192.168.1.1 8.8.8.8
    dns-search domain.local
        slaves eth0 eth1
        bond_mode 0
        bond-miimon 100
        bond_downdelay 200
        bound_updelay 200
```
> Для балансировки трафика используются следующие опции:
> * mode=0 (balance-rr) - round-robin алгоритм (поочередный перебор интерфейсов)
> * mode=2 (balance-xor) - распределение в зависимости от MAC-адресов источника и получателя.
> * mode=5 (balance-tlb) - распределение нагрузки при передаче. Входящий трафик обрабатывается в обычном режиме, а при передаче интерфейс определяется на основе данных о загруженности.
> * mode=6 (balance-alb) - адаптивное распределение нагрузки. Аналогично предыдущему режиму, но с возможностью балансировать также входящую нагрузку.
5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
* Сколько IP адресов в сети с маской /29
  * 6 ip-адресов
* Сколько /29 подсетей можно получить из сети с маской /24
   * 32 подсети (ipcalc 10.10.10.0/24 255.255.255.248)
* Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24
  ```bash
  1. 
  Network:   10.10.10.0/29        00001010.00001010.00001010.00000 000
  HostMin:   10.10.10.1           00001010.00001010.00001010.00000 001
  HostMax:   10.10.10.6           00001010.00001010.00001010.00000 110
  Broadcast: 10.10.10.7           00001010.00001010.00001010.00000 111
  Hosts/Net: 6                     Class A, Private Internet
  ...
  32.
  Network:   10.10.10.248/29      00001010.00001010.00001010.11111 000
  HostMin:   10.10.10.249         00001010.00001010.00001010.11111 001
  HostMax:   10.10.10.254         00001010.00001010.00001010.11111 110
  Broadcast: 10.10.10.255         00001010.00001010.00001010.11111 111
  Hosts/Net: 6                     Class A, Private Internet 
  ```
6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
```bash
$ ipcalc 100.64.0.0/10 --s 50

Address:   100.64.0.0           01100100.01 000000.00000000.00000000
Netmask:   255.192.0.0 = 10     11111111.11 000000.00000000.00000000
Wildcard:  0.63.255.255         00000000.00 111111.11111111.11111111
=>
Network:   100.64.0.0/10        01100100.01 000000.00000000.00000000
HostMin:   100.64.0.1           01100100.01 000000.00000000.00000001
HostMax:   100.127.255.254      01100100.01 111111.11111111.11111110
Broadcast: 100.127.255.255      01100100.01 111111.11111111.11111111
Hosts/Net: 4194302               Class A

1. Requested size: 50 hosts
Netmask:   255.255.255.192 = 26 11111111.11111111.11111111.11 000000
Network:   100.64.0.0/26        01100100.01000000.00000000.00 000000
HostMin:   100.64.0.1           01100100.01000000.00000000.00 000001
HostMax:   100.64.0.62          01100100.01000000.00000000.00 111110
Broadcast: 100.64.0.63          01100100.01000000.00000000.00 111111
Hosts/Net: 62                    Class A

Needed size:  64 addresses.
Used network: 100.64.0.0/26
Unused:
100.64.0.64/26
100.64.0.128/25
100.64.1.0/24
100.64.2.0/23
100.64.4.0/22
100.64.8.0/21
100.64.16.0/20
100.64.32.0/19
100.64.64.0/18
100.64.128.0/17
100.65.0.0/16
100.66.0.0/15
100.68.0.0/14
100.72.0.0/13
100.80.0.0/12
100.96.0.0/11
```
7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
* Как проверить ARP таблицу в Linux, Windows?
  * `arp -a` (windows)  
  * `ip neigh` (linux)
* Как очистить ARP кеш полностью?
  * `ip neigh flush`
* Как из ARP таблицы удалить только один нужный IP?
  * `ip neigh del`
